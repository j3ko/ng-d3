/*! ng-d3 v0.0.0 | 2014-04-20 */
!function(a,b){"use strict";var c=angular.module("ngD3.directives",[]);angular.module("ngD3",["ngD3.directives"]);var d=function(a,c,d){var e=this,f={chartType:"line",data:[],color:[],margin:{},showXAxis:!0,xValue:null,xAxisLabel:null,xAxisTickFormat:null,x2AxisLabel:null,x2AxisTickFormat:null,showYAxis:!0,yAxisLabel:null,yAxisTickFormat:null,y1AxisLabel:null,y1AxisTickFormat:null,y2AxisLabel:null,y2AxisTickFormat:null,y3AxisLabel:null,y3AxisTickFormat:null,y4AxisLabel:null,y4AxisTickFormat:null,tooltips:!0,showValues:!1,staggerLabels:!1,useInteractiveGuideline:!1,transitionDuration:null};e.data=[],e.config=b.extend(f,c),e.updateConfig=function(a){e.config=b.extend(e.config,a)},e.setChartType=function(a){"string"==typeof a&&(e.model=nv.models[a])},e.configAxis=function(a){"function"==typeof e.config.xValue&&a.x(e.config.xValue),a.xAxis&&a.xAxis.axisLabel&&"string"==typeof e.config.xAxisLabel&&a.xAxis.axisLabel(e.config.xAxisLabel),a.x2Axis&&a.x2Axis.axisLabel&&"string"==typeof e.config.x2AxisLabel&&a.x2Axis.axisLabel(e.config.x2AxisLabel),a.yAxis&&a.yAxis.axisLabel&&"string"==typeof e.config.yAxisLabel&&a.yAxis.axisLabel(e.config.yAxisLabel),a.y1Axis&&a.y1Axis.axisLabel&&"string"==typeof e.config.y1AxisLabel&&a.y1Axis.axisLabel(e.config.y1AxisLabel),a.y2Axis&&a.y2Axis.axisLabel&&"string"==typeof e.config.y2AxisLabel&&a.y2Axis.axisLabel(e.config.y2AxisLabel),a.y3Axis&&a.y3Axis.axisLabel&&"string"==typeof e.config.y3AxisLabel&&a.y3Axis.axisLabel(e.config.y3AxisLabel),a.y4Axis&&a.y4Axis.axisLabel&&"string"==typeof e.config.y4AxisLabel&&a.y4Axis.axisLabel(e.config.y4AxisLabel),a.xAxis&&a.xAxis.tickFormat&&"string"==typeof e.config.xAxisTickFormat?a.xAxis.tickFormat(d3.format(e.config.xAxisTickFormat)):a.xAxis&&a.xAxis.tickFormat&&"function"==typeof e.config.xAxisTickFormat&&a.xAxis.tickFormat(e.config.xAxisTickFormat),a.x2Axis&&a.x2Axis.tickFormat&&"string"==typeof e.config.x2AxisTickFormat?a.x2Axis.tickFormat(d3.format(e.config.x2AxisTickFormat)):a.x2Axis&&a.x2Axis.tickFormat&&"function"==typeof e.config.x2AxisTickFormat&&a.x2Axis.tickFormat(e.config.x2AxisTickFormat),a.yAxis&&a.yAxis.tickFormat&&"string"==typeof e.config.yAxisTickFormat?a.yAxis.tickFormat(d3.format(e.config.yAxisTickFormat)):a.yAxis&&a.yAxis.tickFormat&&"function"==typeof e.config.yAxisTickFormat&&a.yAxis.tickFormat(e.config.yAxisTickFormat),a.y1Axis&&a.y1Axis.tickFormat&&"string"==typeof e.config.y1AxisTickFormat?a.y1Axis.tickFormat(d3.format(e.config.y1AxisTickFormat)):a.y1Axis&&a.y1Axis.tickFormat&&"function"==typeof e.config.y1AxisTickFormat&&a.y1Axis.tickFormat(e.config.y1AxisTickFormat),a.y2Axis&&a.y2Axis.tickFormat&&"string"==typeof e.config.y2AxisTickFormat?a.y2Axis.tickFormat(d3.format(e.config.y2AxisTickFormat)):a.y2Axis&&a.y2Axis.tickFormat&&"function"==typeof e.config.y2AxisTickFormat&&a.y2Axis.tickFormat(e.config.y2AxisTickFormat),a.y3Axis&&a.y3Axis.tickFormat&&"string"==typeof e.config.y3AxisTickFormat?a.y3Axis.tickFormat(d3.format(e.config.y3AxisTickFormat)):a.y3Axis&&a.y3Axis.tickFormat&&"function"==typeof e.config.y3AxisTickFormat&&a.y3Axis.tickFormat(e.config.y3AxisTickFormat),a.y4Axis&&a.y4Axis.tickFormat&&"string"==typeof e.config.y4AxisTickFormat?a.y4Axis.tickFormat(d3.format(e.config.y4AxisTickFormat)):a.y4Axis&&a.y4Axis.tickFormat&&"function"==typeof e.config.y4AxisTickFormat&&a.y4Axis.tickFormat(e.config.y4AxisTickFormat)},e.render=function(){e.setChartType(e.config.chartType);var a=e.model();a.margin&&a.margin(e.config.margin),a.color&&a.color(e.config.color),a.useInteractiveGuideline&&a.useInteractiveGuideline(!!e.config.useInteractiveGuideline),a.staggerLabels&&a.staggerLabels(!!e.config.staggerLabels),a.tooltips&&a.tooltips(!!e.config.tooltips),a.showValues&&a.showValues(!!e.config.showValues),e.configAxis(a),d.empty();var b=d3.select(d[0]).append("svg").datum(e.data);"number"==typeof e.config.transitionDuration&&(b=b.transition().duration(e.config.transitionDuration)),b.call(a),nv.utils.windowResize(a.update)}};c.directive("ngD3",["$compile",function(){var a={scope:!0,compile:function(){return{pre:function(a,c,e){var f=a.$parent,g=b(c),h=f.$eval(e.ngD3),i=new d(a,h,g);if("string"==typeof e.ngD3){var j=function(){i.updateConfig(a.$eval(e.ngD3)),i.render()};f.$watch(e.ngD3,j,!0)}if(h&&"string"==typeof h.data){var k=function(a){i.data=b.extend([],a),i.render()};f.$watch(h.data,k),f.$watch(h.data+".length",function(){k(a.$eval(h.data))})}}}}};return a}])}(window,jQuery);